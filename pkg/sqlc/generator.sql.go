// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: generator.sql

package sqlc

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const generatorCreate = `-- name: GeneratorCreate :one
INSERT INTO generators (user_id, name, description, playlist_id, maintained, interval, parameters)
VALUES ($1, $2, $3, $4, $5, $6, $7)
RETURNING id
`

type GeneratorCreateParams struct {
	UserID      int32
	Name        string
	Description pgtype.Text
	PlaylistID  pgtype.Int4
	Maintained  bool
	Interval    pgtype.Int4
	Parameters  []byte
}

func (q *Queries) GeneratorCreate(ctx context.Context, arg GeneratorCreateParams) (int32, error) {
	row := q.db.QueryRow(ctx, generatorCreate,
		arg.UserID,
		arg.Name,
		arg.Description,
		arg.PlaylistID,
		arg.Maintained,
		arg.Interval,
		arg.Parameters,
	)
	var id int32
	err := row.Scan(&id)
	return id, err
}

const generatorUpdate = `-- name: GeneratorUpdate :exec
UPDATE generators
SET 
  name = coalesce($2, name),
  description = coalesce($3, description),
  playlist_id = coalesce($4, playlist_id),
  maintained = coalesce($5, maintained),
  interval = coalesce($6, interval),
  parameters = coalesce($7, parameters)
WHERE id = $1
`

type GeneratorUpdateParams struct {
	ID          int32
	Name        pgtype.Text
	Description pgtype.Text
	PlaylistID  pgtype.Int4
	Maintained  pgtype.Bool
	Interval    pgtype.Int4
	Parameters  []byte
}

func (q *Queries) GeneratorUpdate(ctx context.Context, arg GeneratorUpdateParams) error {
	_, err := q.db.Exec(ctx, generatorUpdate,
		arg.ID,
		arg.Name,
		arg.Description,
		arg.PlaylistID,
		arg.Maintained,
		arg.Interval,
		arg.Parameters,
	)
	return err
}
